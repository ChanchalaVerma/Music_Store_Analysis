# Music_Store_Analysis
Analysis of a Music Store data 
The Stakeholder of the Music store wants to know some details about his business. There are in total of 11 tables having Primary keys and Foreign keys which were used to estabilish relationships between all tables. I have used MySQL to extract the required information.
The Problem Statements are as follows with images of output:
1) Which countriy have the max employees based on their job title?

![Screenshot 2024-09-26 143000](https://github.com/user-attachments/assets/3dab8556-d405-4c7b-a279-8598a875ef42) <br /> 
Canada has the maximum number of employees. <br /> 
2) (a) who is the senior most employee based on job title? <br /> 

![Screenshot 2024-09-26 143513](https://github.com/user-attachments/assets/2cfdacf5-852d-4ae4-bcc7-cafd7cc2d748) <br /> 
We can see that Adams Andrew is the senior most employee working as a general manager at L6. <br /> 
<br /> (b) which country has the most invoices? <br /> 
   
![Screenshot 2024-09-26 143605](https://github.com/user-attachments/assets/c06fff53-b41b-4ef8-b385-74bf78287027)  <br /> 
The maximum number of invoices was generated by USA with a total of 131.  <br /> 

3) From which city we have done the highest business? We would like to throw a promotional Music Festival in the city where we made the most money.
   -- A query that returns one city that has the highest sum of invoice totals will give the answer. <br /> 
   
![Screenshot 2024-09-26 144110](https://github.com/user-attachments/assets/192ca2da-0ba5-426a-b3de-148714acac85)  <br /> 
Prague is the city in Czech Republic which has generated the highest purchase of invoices. Hence suitable location for Music Festival. <br />

The Music Festival should be organized in Prague because the city has generated the highest total invoice. <br /> 

4) Who is Our most valuable customer from which country he belongs? The customer who spent the maximum amount will be "the most valuable customer". <br />
Lets see the Daigram view which will help in viewing which table and column can be used to estalibilishing relationship between all 11 tables.  <br /> 
![Daigram _View](https://github.com/user-attachments/assets/7412203f-3d2c-4d41-ac02-f4e5d15a749d)  <br />


![Screenshot 2024-09-26 144826](https://github.com/user-attachments/assets/79c47f46-1832-43a9-a247-5a817d9ea2c9) <br /> 
FrantiAiek WichterlovAi belonging to Czech Republic is the most valueable customer.  <br />

5) Find Email, name & Genre of all the audience who listens to rock music(Sort Email Alphabetically). <br /> 

![Screenshot 2024-09-26 145038](https://github.com/user-attachments/assets/77f9b36b-f1ee-45e5-8991-83a617e984c0)  <br /> 
There are total 58 customers who enjoy Rock music. <br /> 
6) Find Top 10 rock band (Artist) who have written the majority of the songs and the number of tracks. <br /> 

![Screenshot 2024-09-26 150934](https://github.com/user-attachments/assets/8a703f48-26f4-4c3f-afe5-1487cfb20a30) <br /> 
7) Extract Name and milliseconds (in descending order) for all the tracks that have song duration longer than the average song duration. <br /> 

![Screenshot 2024-09-26 151124](https://github.com/user-attachments/assets/0c3f05b9-1df6-4467-a38d-e67ea9941d06) <br /> 
There 168 tracks which have song duration longer than the average song duration. <br /> 

8) Find how much amount is spent by each customer on the top artist? Give me their names and amount spent. <br />
I have used CTE (Common Table expression) which created a temporary table named Most_popular_artist having two columns as artist name and total sales by joining 3 tables this step will ensure that output will show the data regarding to only the top most artist. Further linking the Most_popular_artist columns to customer table for obtaining customer's name using join function. Hence the query will show output as follows: <br />  
![Screenshot 2024-09-26 151445](https://github.com/user-attachments/assets/767638dd-3cfd-4409-8f51-14df2b02d086) <br />
Alice In Chains is the Top artist  and Victor Stevens has spent highest amount of money  <br />.

9) Find the most popular music genre for each country. We determine most popular genre as the genre highest amount of purchase trancations.
For countries where the maximum number of purchases is shared, provide all genres. <br /> 
There are two methods to solve this query (i) By using CTE with ROW_NUMBER. <br />

![Screenshot 2024-09-26 151819](https://github.com/user-attachments/assets/ab9ac60b-ca18-4d6f-b789-430e337f5377) <br /> 

ii) By using RECURSIVE <br /> 
![Screenshot 2024-09-26 151936](https://github.com/user-attachments/assets/ec0e67aa-7932-4958-85d5-825a1abbdc4a) <br /> 

10) Find country along with top customer and the amount spent by them. For countries where the top customer is shared, provide all customers who spent this amount. <br /> 

![Screenshot 2024-09-26 152219](https://github.com/user-attachments/assets/41900d10-9f90-4632-a946-6ff728d447f5) <br /> 
11) Find sales reprentative of each customer. <br /> 

![Screenshot 2024-09-26 152617](https://github.com/user-attachments/assets/b169b884-5480-4a08-8f38-220ddfa8d385) <br /> 
